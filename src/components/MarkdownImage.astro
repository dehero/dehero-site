---
import type { ImageMetadata } from 'astro';
import { Picture } from 'astro:assets';

type Props = {
  src: string | ImageMetadata;
  alt: string;
  title?: string;
};

const { src, alt, title } = Astro.props;
---

<figure class="figure">
  {typeof src === 'string' ? <img src={src} alt={alt} /> : <Picture src={src} alt={alt} class="img" />}
  {title && <figcaption>{title}</figcaption>}
</figure>

<style>
  .figure {
    margin: 0;
  }

  .img {
    max-width: 100%;
    height: auto;
  }
</style>
